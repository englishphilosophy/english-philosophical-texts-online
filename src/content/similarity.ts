import {
  Element
} from '../../deps_client.ts'

export const emplTitles = [
  { id: 'DT', title: 'Of the Delicacy of Taste and Passion' },
  { id: 'LP', title: 'Of the Liberty of the Press' },
  { id: 'PR', title: 'That Politics may be reduced to a Science' },
  { id: 'FP', title: 'Of the First Principles of Government' },
  { id: 'OG', title: 'Of the Origin of Government' },
  { id: 'IP', title: 'Of the Independency of Parliament' },
  { id: 'BG', title: 'Whether the British Government inclines more to Absolute Monarchy, or to a Republic' },
  { id: 'PG', title: 'Of Parties in General' },
  { id: 'PGB', title: 'Of the Parties of Great Britain' },
  { id: 'SE', title: 'Of Superstition and Enthusiasm' },
  { id: 'DM', title: 'Of the Dignity or Meanness of Human Nature' },
  { id: 'CL', title: 'Of Civil Liberty' },
  { id: 'El', title: 'Of Eloquence' },
  { id: 'RP', title: 'Of the Rise and Progress of the Arts and Sciences' },
  { id: 'Ep', title: 'The Epicurean' },
  { id: 'Sto', title: 'The Stoic' },
  { id: 'Pl', title: 'The Platonist' },
  { id: 'Sc', title: 'The Sceptic' },
  { id: 'PD', title: 'Of Polygamy and Divorces' },
  { id: 'SR', title: 'Of Simplicity and Refinement in Writing' },
  { id: 'NC', title: 'Of National Characters' },
  { id: 'Tr', title: 'Of Tragedy' },
  { id: 'ST', title: 'Of the Standard of Taste' }
]

export const dissertationTitles = [
  'Dissertation on the Passions',
  'Dissertation, section 1',
  'Dissertation, section 2',
  'Dissertation, section 3',
  'Dissertation, section 4',
  'Dissertation, section 5',
  'Dissertation, section 6'
]

export function emplTable (id: number): Element {
  const essay = emplTitles[id]
  const scores = emplScores[id]
  if (!essay || !scores) {
    return new Element('p', { innerHTML: 'Array index out of range.' })
  }
  const data = scores
    .map((score, index) => Object.assign({ score }, emplTitles[index]))
    .filter(x => x.score > 0)
    .sort((x, y) => y.score - x.score)
  return new Element('table', { children: [
    new Element('thead', { children: [
      new Element('tr', { children: [
        new Element('th', { innerHTML: 'Comparison text' }),
        new Element('th', { innerHTML: 'Similarity&nbsp;score' })
      ] })
    ] }),
    new Element('tbody', { children: data.map(x => {
      return new Element('tr', { children: [
        new Element('td', { innerHTML: x.title }),
        new Element('td', { innerHTML: (x.score * 10000).toString(10).slice(0, 6).padEnd(6, '0') })
      ] })
    }) })
  ] })
}

export function dissertationTable (id: number): Element {
  const essay = emplTitles[id]
  const scores = dissertationScores.map(x => x[id])
  if (!essay || !scores) {
    return new Element('p', { innerHTML: 'Array index out of range.' })
  }
  const data = scores
    .map((score, index) => ({ title: emplTitles[index].title, score }))
    .sort((x, y) => y.score - x.score)
  return new Element('table', { children: [
    new Element('thead', { children: [
      new Element('tr', { children: [
        new Element('th', { innerHTML: 'Comparison text' }),
        new Element('th', { innerHTML: 'Similarity&nbsp;score' })
      ] })
    ] }),
    new Element('tbody', { children: data.map(x => {
      return new Element('tr', { children: [
        new Element('td', { innerHTML: x.title }),
        new Element('td', { innerHTML: (x.score * 10000).toString(10).slice(0, 6).padEnd(6, '0') })
      ] })
    }) })
  ] })
}

const emplScores = [
  [-1, 0.000158711, 0.000187015, 0.000186675, 0.000203503, 0.000168862, 0.000192877, 0.000180398, 0.000170192, 0.000186219, 0.000278702, 0.000201981, 0.000256948, 0.000249509, 0.000286248, 0.0002676, 0.00026203, 0.000324266, 0.000211737, 0.00027576, 0.000219561, 0.00030412, 0.000344483],
  [0.000158711, -1, 0.000378793, 0.00044729, 0.00040313, 0.000412568, 0.000509871, 0.000315198, 0.000544412, 0.000283593, 0.000184491, 0.000435742, 0.000218237, 0.000331547, 0.000165556, 0.000186212, 0.000156516, 0.000184224, 0.000266013, 0.000207098, 0.000261467, 0.000189866, 0.000180901],
  [0.000187015, 0.000378793, -1, 0.000354317, 0.000289989, 0.000340024, 0.000334479, 0.00028982, 0.000307153, 0.000194653, 0.000203742, 0.000320118, 0.000217163, 0.000264459, 0.000158476, 0.000180431, 0.000158537, 0.000195684, 0.000218897, 0.000161829, 0.000237711, 0.000168023, 0.000183714],
  [0.000186675, 0.00044729, 0.000354317, -1, 0.000365213, 0.00050302, 0.000536817, 0.00033306, 0.000380698, 0.000215703, 0.000219947, 0.000364689, 0.000217397, 0.000279846, 0.000152877, 0.00018556, 0.000161146, 0.000220352, 0.000202766, 0.000173137, 0.000252962, 0.000174738, 0.000216719],
  [0.000203503, 0.00040313, 0.000289989, 0.000365213, -1, 0.000306818, 0.000338417, 0.000272785, 0.000317604, 0.000238657, 0.000222708, 0.000257632, 0.000188049, 0.000262116, 0.000151437, 0.000213092, 0.000203094, 0.000210613, 0.000241939, 0.000169837, 0.000231277, 0.000170165, 0.000209062],
  [0.000168862, 0.000412568, 0.000340024, 0.00050302, 0.000306818, -1, 0.000454162, 0.000257548, 0.000387035, 0.000194931, 0.000193902, 0.000285973, 0.000207329, 0.000245449, 0.000157836, 0.000176399, 0.00015102, 0.000193924, 0.000203757, 0.000184256, 0.000200519, 0.000164131, 0.000183381],
  [0.000192877, 0.000509871, 0.000334479, 0.000536817, 0.000338417, 0.000454162, -1, 0.000281081, 0.000440858, 0.000238879, 0.000204466, 0.000386084, 0.000202366, 0.000302305, 0.000173819, 0.000174465, 0.00017432, 0.000206033, 0.000213723, 0.000181053, 0.000210594, 0.00018218, 0.000190201],
  [0.000180398, 0.000315198, 0.00028982, 0.00033306, 0.000272785, 0.000257548, 0.000281081, -1, 0.000360925, 0.000290389, 0.000224763, 0.000256015, 0.000206437, 0.000246419, 0.000162792, 0.000169587, 0.000168068, 0.000188022, 0.00021652, 0.000149714, 0.000236003, 0.00017418, 0.000196848],
  [0.000170192, 0.000544412, 0.000307153, 0.000380698, 0.000317604, 0.000387035, 0.000440858, 0.000360925, -1, 0.000273703, 0.00020504, 0.000306671, 0.000198523, 0.000246547, 0.000142064, 0.000162402, 0.000155807, 0.000187762, 0.000218207, 0.00016204, 0.000217461, 0.00018465, 0.000213761],
  [0.000186219, 0.000283593, 0.000194653, 0.000215703, 0.000238657, 0.000194931, 0.000238879, 0.000290389, 0.000273703, -1, 0.000200656, 0.000195688, 0.000170351, 0.000209311, 0.000204168, 0.000196542, 0.000208543, 0.000205856, 0.000204864, 0.000174501, 0.000231538, 0.000193755, 0.000200151],
  [0.000278702, 0.000184491, 0.000203742, 0.000219947, 0.000222708, 0.000193902, 0.000204466, 0.000224763, 0.00020504, 0.000200656, -1, 0.000189572, 0.000212174, 0.000209309, 0.000324024, 0.000304163, 0.000271473, 0.00030877, 0.000217132, 0.000219978, 0.000215817, 0.00022641, 0.000258707],
  [0.000201981, 0.000435742, 0.000320118, 0.000364689, 0.000257632, 0.000285973, 0.000386084, 0.000256015, 0.000306671, 0.000195688, 0.000189572, -1, 0.000265171, 0.00032478, 0.000171185, 0.00017974, 0.000209172, 0.000185482, 0.000210181, 0.000190866, 0.000244982, 0.000165756, 0.000191628],
  [0.000256948, 0.000218237, 0.000217163, 0.000217397, 0.000188049, 0.000207329, 0.000202366, 0.000206437, 0.000198523, 0.000170351, 0.000212174, 0.000265171, -1, 0.000267151, 0.000195101, 0.000201114, 0.000225434, 0.000209839, 0.000182813, 0.000253487, 0.000222061, 0.000277978, 0.000253334],
  [0.000249509, 0.000331547, 0.000264459, 0.000279846, 0.000262116, 0.000245449, 0.000302305, 0.000246419, 0.000246547, 0.000209311, 0.000209309, 0.00032478, 0.000267151, -1, 0.000196158, 0.000207199, 0.000220972, 0.000205302, 0.000228414, 0.000229041, 0.000256983, 0.000196476, 0.000225018],
  [0.000286248, 0.000165556, 0.000158476, 0.000152877, 0.000151437, 0.000157836, 0.000173819, 0.000162792, 0.000142064, 0.000204168, 0.000324024, 0.000171185, 0.000195101, 0.000196158, -1, 0.000544822, 0.000443924, 0.000364022, 0.000242269, 0.000203199, 0.000166372, 0.000258417, 0.000199083],
  [0.0002676, 0.000186212, 0.000180431, 0.00018556, 0.000213092, 0.000176399, 0.000174465, 0.000169587, 0.000162402, 0.000196542, 0.000304163, 0.00017974, 0.000201114, 0.000207199, 0.000544822, -1, 0.001027543, 0.000328822, 0.00023486, 0.000179958, 0.000182714, 0.000266012, 0.000214189],
  [0.00026203, 0.000156516, 0.000158537, 0.000161146, 0.000203094, 0.00015102, 0.00017432, 0.000168068, 0.000155807, 0.000208543, 0.000271473, 0.000209172, 0.000225434, 0.000220972, 0.000443924, 0.001027543, -1, 0.000258017, 0.000192372, 0.000218774, 0.000158388, 0.000216527, 0.000274566],
  [0.000324266, 0.000184224, 0.000195684, 0.000220352, 0.000210613, 0.000193924, 0.000206033, 0.000188022, 0.000187762, 0.000205856, 0.00030877, 0.000185482, 0.000209839, 0.000205302, 0.000364022, 0.000328822, 0.000258017, -1, 0.000210972, 0.000230094, 0.000209307, 0.000267756, 0.000267109],
  [0.000211737, 0.000266013, 0.000218897, 0.000202766, 0.000241939, 0.000203757, 0.000213723, 0.00021652, 0.000218207, 0.000204864, 0.000217132, 0.000210181, 0.000182813, 0.000228414, 0.000242269, 0.00023486, 0.000192372, 0.000210972, -1, 0.000178345, 0.000205798, 0.000196512, 0.000187845],
  [0.00027576, 0.000207098, 0.000161829, 0.000173137, 0.000169837, 0.000184256, 0.000181053, 0.000149714, 0.00016204, 0.000174501, 0.000219978, 0.000190866, 0.000253487, 0.000229041, 0.000203199, 0.000179958, 0.000218774, 0.000230094, 0.000178345, -1, 0.000194176, 0.00023078, 0.00031033],
  [0.000219561, 0.000261467, 0.000237711, 0.000252962, 0.000231277, 0.000200519, 0.000210594, 0.000236003, 0.000217461, 0.000231538, 0.000215817, 0.000244982, 0.000222061, 0.000256983, 0.000166372, 0.000182714, 0.000158388, 0.000209307, 0.000205798, 0.000194176, -1, 0.000175993, 0.00021216],
  [0.00030412, 0.000189866, 0.000168023, 0.000174738, 0.000170165, 0.000164131, 0.00018218, 0.00017418, 0.00018465, 0.000193755, 0.00022641, 0.000165756, 0.000277978, 0.000196476, 0.000258417, 0.000266012, 0.000216527, 0.000267756, 0.000196512, 0.00023078, 0.000175993, -1, 0.000241917],
  [0.000344483, 0.000180901, 0.000183714, 0.000216719, 0.000209062, 0.000183381, 0.000190201, 0.000196848, 0.000213761, 0.000200151, 0.000258707, 0.000191628, 0.000253334, 0.000225018, 0.000199083, 0.000214189, 0.000274566, 0.000267109, 0.000187845, 0.00031033, 0.00021216, 0.000241917, -1]
]

const dissertationScores = [
  [0.000305073, 0.00029507, 0.000289262, 0.000359033, 0.000281077, 0.000318686, 0.000340124],
  [0.00021495, 0.000237439, 0.000200596, 0.000197599, 0.000222487, 0.000227103, 0.000230999],
  [0.000199154, 0.000182015, 0.000201601, 0.000204522, 0.00020807, 0.000204264, 0.00019584],
  [0.000243772, 0.000230464, 0.000248768, 0.000225507, 0.000231924, 0.000293038, 0.000246077],
  [0.000215617, 0.000185289, 0.000223331, 0.000196931, 0.000215739, 0.000260773, 0.000222912],
  [0.000212446, 0.000203728, 0.0002176, 0.000204672, 0.000202484, 0.000248734, 0.000203373],
  [0.000223593, 0.000215596, 0.000219943, 0.000208617, 0.000215892, 0.000250123, 0.00025125],
  [0.000219333, 0.00020187, 0.000207538, 0.000247262, 0.000235774, 0.000234609, 0.000239604],
  [0.000221294, 0.000208706, 0.000218623, 0.000213301, 0.00024237, 0.00023768, 0.000223891],
  [0.000229268, 0.00023561, 0.000211806, 0.000239961, 0.000218462, 0.000249185, 0.000270883],
  [0.000288315, 0.000254381, 0.0002911, 0.000319655, 0.000324528, 0.000271774, 0.000268292],
  [0.00019113, 0.000173647, 0.000194559, 0.000187235, 0.000202262, 0.000192837, 0.000190901],
  [0.000204551, 0.000187201, 0.000201302, 0.000197371, 0.000219764, 0.00021808, 0.00022131],
  [0.000219571, 0.000206573, 0.000216767, 0.000221727, 0.000234219, 0.000215415, 0.000228558],
  [0.000250046, 0.000288199, 0.000248321, 0.000238137, 0.000242953, 0.000181319, 0.000239919],
  [0.00024155, 0.00025015, 0.000236685, 0.000270324, 0.000218525, 0.000229603, 0.000245372],
  [0.000236124, 0.000205015, 0.00024342, 0.000268623, 0.00024072, 0.000219425, 0.000226159],
  [0.00029771, 0.000302896, 0.000284881, 0.000323419, 0.000280709, 0.000328459, 0.00031296],
  [0.000231505, 0.000225226, 0.000219013, 0.000275534, 0.000241293, 0.000218192, 0.000242294],
  [0.000228583, 0.000225946, 0.000230176, 0.000212439, 0.000241007, 0.000197721, 0.000228876],
  [0.000223908, 0.000209644, 0.000228373, 0.000206607, 0.000234084, 0.000239066, 0.000220863],
  [0.000358464, 0.000379302, 0.000311666, 0.000389094, 0.000320963, 0.000321126, 0.000496763],
  [0.000274714, 0.00024125, 0.000286349, 0.00029922, 0.000290463, 0.000265269, 0.000244544]
]
